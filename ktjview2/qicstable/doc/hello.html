<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Example - Hello World</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<a href="http://www.ics.com/index.html">
<img src="ics.jpg" border="0" alt="ICS">
</a>
<center>
<H2>QicsTable Documentation Set</H2>
</center>
</a></head><body>


<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1><a name="hello">Example - Hello World</a>
</h1>This example shows how to get started with QicsTable. This simple, "hello, world" program creates a data model and a table widget, and displays the table. The code for this example is listed below, and each section of the code is described in more detail.<p>
The complete code for this example program can be found in <b>&lt;QICSTABLE&gt;/examples/QicsHello</b>.<p>
These are the main QicsTable header files. <div class="fragment"><pre><span class="preprocessor">#include &lt;QicsTable.h&gt;</span>
<span class="preprocessor">#include &lt;QicsDataModelDefault.h&gt;</span>
</pre></div><p>
Some standard Qt initialization code here... <div class="fragment"><pre><span class="preprocessor">#include &lt;qapplication.h&gt;</span>
<span class="preprocessor">#include &lt;qlabel.h&gt;</span>

<span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
{
    QApplication app(argc,argv);
</pre></div><p>
Now let's create the data model. <a class="el" href="classQicsDataModelDefault.html">QicsDataModelDefault</a> is the standard data model class. <div class="fragment"><pre>    <span class="comment">// dimensions of the data model</span>
    <span class="keywordtype">int</span> numRows = 10;
    <span class="keywordtype">int</span> numCols = 5;

    <span class="comment">// create the data model</span>
    <a class="code" href="classQicsDataModel.html">QicsDataModel</a> *dm = <span class="keyword">new</span> QicsDataModelDefault(numRows, numCols);
</pre></div><p>
Now that we have a data model object, let's populate it with some data. Using the <a class="el" href="classQicsDataInt.html">QicsDataInt</a> class constructor we are creating a new integer data item with value <em></em>(i*j). This item is immediately inserted into the data model using <a class="el" href="classQicsDataModel.html#QicsDataModeli0">setItem() </a>. <div class="fragment"><pre>    <span class="comment">// populate the data model with some data</span>
    <span class="keywordtype">int</span> i, j;
    <span class="keywordflow">for</span> (i = 0; i &lt; numRows; i++)
    {
    <span class="keywordflow">for</span> (j = 0; j &lt; numCols; j++)
    {
        dm-&gt;<a class="code" href="classQicsDataModel.html#QicsDataModeli0">setItem</a>(i, j, <a class="code" href="classQicsDataInt.html">QicsDataInt</a>(i*j));
    }
    }
</pre></div><p>
Alternatively, we could have used a different, overloaded version of <a class="el" href="classQicsDataModelDefault.html#QicsDataModelDefaulti0">setItem() </a> that takes an integer as an argument instead of a <a class="el" href="classQicsDataItem.html">QicsDataItem</a> object. There are several different overloads of this method for different types of data.<p>
The data model is ready, so now we can create the table widget. Here, we pass the data model to the <a class="el" href="classQicsTable.html">QicsTable</a> constructor. <div class="fragment"><pre>    <span class="comment">// create the table, using the data model we created above</span>
    QicsTable *table = <span class="keyword">new</span> QicsTable(dm, 0);
</pre></div><p>
Alternatively, we could have created the table widget without a data model and set it later using <a class="el" href="classQicsTable.html#QicsTablea4">setdataModel() </a>.<p>
By default, the table widget will size itself big enough to display 10 rows and 10 columns. In this case, we'd like to make the table just big enough to display all the data in the model, so we call <a class="el" href="classQicsTable.html#QicsTablei72">setVisibleRows() </a> and <a class="el" href="classQicsTable.html#QicsTablei73">setVisibleColumns() </a>. <div class="fragment"><pre>    <span class="comment">// make sure the table is only as large as necessary</span>
    table-&gt;<a class="code" href="classQicsTable.html#QicsTablei72">setVisibleRows</a>(numRows);
    table-&gt;<a class="code" href="classQicsTable.html#QicsTablei73">setVisibleColumns</a>(numCols);
</pre></div><p>
Now, let's add a title above the table. <a class="el" href="classQicsTable.html">QicsTable</a> allows the programmer to place any widget in any of eight locations in the table (top, bottom, left, right, and the four corners). Here, we use <a class="el" href="classQicsTable.html#QicsTablei49">setTopTitleWidget() </a> to place a label widget. <div class="fragment"><pre>    <span class="comment">// Add a title widget to the top of the table</span>
    QLabel *label = <span class="keyword">new</span> QLabel(QString(<span class="stringliteral">"Hello World, Table"</span>), table);
    label-&gt;setAlignment(Qt::AlignCenter);
    table-&gt;<a class="code" href="classQicsTable.html#QicsTablei49">setTopTitleWidget</a>(label);
</pre></div><p>
That's all the table-specific code. All that's left to do is set the application's main widget, show the table, and enter the application event loop. <div class="fragment"><pre>    app.setMainWidget(table);
    table-&gt;show();

    <span class="keywordflow">return</span> app.exec();
}
</pre></div><p>
When the program is executed, you should see the following:<p>
<div align="center">
<img src="hellotable.png" alt="hellotable.png">
</div>
<!-- footer -->
<P>
<center>
<font size="1">
All trademarks and copyrights on this page are properties of
their respective owners.<br> The rest is copyright ©1999-2003 Integrated
Computer Solutions, Inc.
</font>
</center>
<!-- end footer -->
