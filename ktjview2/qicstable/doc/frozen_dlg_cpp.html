<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QicsFrozenConfigDialog.cpp</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<a href="http://www.ics.com/index.html">
<img src="ics.jpg" border="0" alt="ICS">
</a>
<center>
<H2>QicsTable Documentation Set</H2>
</center>
</a></head><body>


<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1><a name="frozen_dlg_cpp">QicsFrozenConfigDialog.cpp</a>
</h1><div class="fragment"><pre><span class="comment">/****************************************************************************</span>
<span class="comment">** $RCSfile$ $Date$</span>
<span class="comment">**</span>
<span class="comment">** Copyright ( C ) 2002-2003 Integrated Computer Solutions, Inc.</span>
<span class="comment">** All rights reserved.</span>
<span class="comment">**</span>
<span class="comment">** This file is part of an example program for QicsTable.  This example</span>
<span class="comment">** program may be used, distributed and modified without limitation.</span>
<span class="comment">**</span>
<span class="comment">*****************************************************************************/</span>

<span class="preprocessor">#include &lt;qapplication.h&gt;</span>
<span class="preprocessor">#include &lt;qlabel.h&gt;</span>
<span class="preprocessor">#include &lt;qlayout.h&gt;</span>
<span class="preprocessor">#include &lt;qpushbutton.h&gt;</span>
<span class="preprocessor">#include &lt;qcheckbox.h&gt;</span>

<span class="preprocessor">#include "QicsFrozenConfigDialog.h"</span>

QicsFrozenConfigDialog::QicsFrozenConfigDialog(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, QWidget *parent) :
    QDialog(parent, name)
{

    QVBoxLayout *box = <span class="keyword">new</span> QVBoxLayout(<span class="keyword">this</span>, 2);

    QGridLayout *grid = <span class="keyword">new</span> QGridLayout(box, 5, 5);
    <span class="keywordtype">int</span> freezeColumn = 1;
    <span class="keywordtype">int</span> numColumn = 3;

    QLabel *label;
    grid-&gt;addColSpacing(2, 10);

    label = <span class="keyword">new</span> QLabel(<span class="keyword">this</span>);
    label-&gt;setText(<span class="stringliteral">"How many?"</span>);
    grid-&gt;addWidget(label, 0, numColumn);

    <span class="comment">// Top Frozen row data</span>
    _frTop = <span class="keyword">new</span> QCheckBox(<span class="keyword">this</span>);
    _frTop-&gt;setText(<span class="stringliteral">"Freeze Top Rows"</span>);
    grid-&gt;addWidget(_frTop, 1, freezeColumn);

    _top = <span class="keyword">new</span> QLineEdit(<span class="keyword">this</span>);
    grid-&gt;addWidget(_top, 1, numColumn);

    <span class="comment">// Bottom Frozen row data</span>
    _frBottom = <span class="keyword">new</span> QCheckBox(<span class="keyword">this</span>);
    _frBottom-&gt;setText(<span class="stringliteral">"Freeze Bottom Rows"</span>);
    grid-&gt;addWidget(_frBottom, 2, freezeColumn);

    _bottom = <span class="keyword">new</span> QLineEdit(<span class="keyword">this</span>);
    grid-&gt;addWidget(_bottom, 2, numColumn);

    <span class="comment">// Left Frozen column data</span>
    _frLeft = <span class="keyword">new</span> QCheckBox(<span class="keyword">this</span>);
    _frLeft-&gt;setText(<span class="stringliteral">"Freeze Left Columns"</span>);
    grid-&gt;addWidget(_frLeft, 3, freezeColumn);

    _left = <span class="keyword">new</span> QLineEdit(<span class="keyword">this</span>);
    grid-&gt;addWidget(_left, 3, numColumn);

    <span class="comment">// Right Frozen column data</span>
    _frRight = <span class="keyword">new</span> QCheckBox(<span class="keyword">this</span>);
    _frRight-&gt;setText(<span class="stringliteral">"Freeze Right Columns"</span>);
    grid-&gt;addWidget(_frRight, 4, freezeColumn);

    _right = <span class="keyword">new</span> QLineEdit(<span class="keyword">this</span>);
    grid-&gt;addWidget(_right, 4, numColumn);


    grid-&gt;addRowSpacing(3, 10);

    QHBoxLayout *row = <span class="keyword">new</span> QHBoxLayout(box);

    QPushButton *ok = <span class="keyword">new</span> QPushButton(<span class="keyword">this</span>, <span class="stringliteral">"OkButton"</span>);
    ok-&gt;setText(<span class="stringliteral">"OK"</span>);
    row-&gt;addWidget(ok);
    connect(ok, SIGNAL(clicked()),
        <span class="keyword">this</span>, SLOT(accept()) );

    QPushButton *cancel = <span class="keyword">new</span> QPushButton(<span class="keyword">this</span>, <span class="stringliteral">"CancelButton"</span>);
    cancel-&gt;setText(<span class="stringliteral">"Cancel"</span>);
    row-&gt;addWidget(cancel);
    connect(cancel, SIGNAL(clicked()),
        <span class="keyword">this</span>, SLOT(reject()) );
}


<span class="keywordtype">void</span> QicsFrozenConfigDialog::exec()
{
    _freezeTopRows = <span class="keyword">false</span>;
    _freezeBottomRows = <span class="keyword">false</span>;
    _freezeLeftColumns = <span class="keyword">false</span>;
    _freezeRightColumns = <span class="keyword">false</span>;

    <span class="keywordflow">if</span> (QDialog::exec() == QDialog::Accepted)
    {
    <span class="keywordflow">if</span> (_frTop-&gt;isChecked())
        _freezeTopRows = <span class="keyword">true</span>;
    
    <span class="keywordflow">if</span> (_frBottom-&gt;isChecked())
        _freezeBottomRows = <span class="keyword">true</span>;
    
    <span class="keywordflow">if</span> (_frLeft-&gt;isChecked())
        _freezeLeftColumns = <span class="keyword">true</span>;

    <span class="keywordflow">if</span> (_frRight-&gt;isChecked())
        _freezeRightColumns = <span class="keyword">true</span>;
    }

}

<span class="keywordtype">int</span> QicsFrozenConfigDialog::numTopFrozenRows(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword"></span>{
    <span class="keywordflow">return</span> (_top-&gt;text().toInt());
}

<span class="keywordtype">int</span> QicsFrozenConfigDialog::numBottomFrozenRows(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword"></span>{
    <span class="keywordflow">return</span> (_bottom-&gt;text().toInt());
}

<span class="keywordtype">int</span> QicsFrozenConfigDialog::numLeftFrozenCols(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword"></span>{
    <span class="keywordflow">return</span> (_left-&gt;text().toInt());
}

<span class="keywordtype">int</span> QicsFrozenConfigDialog::numRightFrozenCols(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<span class="keyword"></span>{
    <span class="keywordflow">return</span> (_right-&gt;text().toInt());
}
</pre></div> <!-- footer -->
<P>
<center>
<font size="1">
All trademarks and copyrights on this page are properties of
their respective owners.<br> The rest is copyright ©1999-2003 Integrated
Computer Solutions, Inc.
</font>
</center>
<!-- end footer -->
