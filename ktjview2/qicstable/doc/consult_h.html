<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>consultant.h</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<a href="http://www.ics.com/index.html">
<img src="ics.jpg" border="0" alt="ICS">
</a>
<center>
<H2>QicsTable Documentation Set</H2>
</center>
</a></head><body>


<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1><a name="consult_h">consultant.h</a>
</h1><div class="fragment"><pre><span class="comment">/****************************************************************************</span>
<span class="comment">** $RCSfile$ $Date$</span>
<span class="comment">**</span>
<span class="comment">** Copyright ( C ) 2002-2003 Integrated Computer Solutions, Inc.</span>
<span class="comment">** All rights reserved.</span>
<span class="comment">**</span>
<span class="comment">** This file is part of an example program for QicsTable.  This example</span>
<span class="comment">** program may be used, distributed and modified without limitation.</span>
<span class="comment">**</span>
<span class="comment">*****************************************************************************/</span>

<span class="preprocessor">#ifndef _CONSULTANT_H</span>
<span class="preprocessor"></span><span class="preprocessor">#define _CONSULTANT_H</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;ctype.h&gt;</span>

<span class="preprocessor">#include &lt;qfile.h&gt;</span>
<span class="preprocessor">#include &lt;qlabel.h&gt;</span>
<span class="preprocessor">#include &lt;qtextstream.h&gt;</span>
<span class="preprocessor">#include &lt;qvalidator.h&gt;</span>
<span class="preprocessor">#include &lt;qmainwindow.h&gt;</span>
<span class="preprocessor">#include &lt;qpushbutton.h&gt;</span>
<span class="preprocessor">#include &lt;qpopupmenu.h&gt;</span>
<span class="preprocessor">#include &lt;qmenubar.h&gt;</span>
<span class="preprocessor">#include &lt;qmessagebox.h&gt;</span>
<span class="preprocessor">#include &lt;qapplication.h&gt;</span>

<span class="preprocessor">#include &lt;QicsTable.h&gt;</span>
<span class="preprocessor">#include &lt;QicsDataModelDefault.h&gt;</span>
<span class="preprocessor">#include &lt;QicsComboCellDisplay.h&gt;</span>
<span class="preprocessor">#include &lt;QicsCheckCellDisplay.h&gt;</span>
<span class="preprocessor">#include &lt;QicsTextCellDisplay.h&gt;</span>

<span class="comment">//</span>
<span class="comment">// This example program demonstrates the use of a number of QicsTable</span>
<span class="comment">// features, including custom cell displayers, validators, and formatters.</span>
<span class="comment">//</span>
<span class="comment">// The program displays a table when can be loaded with data concerning</span>
<span class="comment">// "consultants".  Data can be loaded from, and saved to, a text file.</span>
<span class="comment">// Columns in the table are:</span>
<span class="comment">//</span>
<span class="comment">// First Name:         (string) default cell displayer</span>
<span class="comment">// Last Name:          (string) default cell displayer</span>
<span class="comment">// SSN:                (int) default cell displayer, custom validator</span>
<span class="comment">//                           and formatter</span>
<span class="comment">// Date of Birth:      (date) default cell displayer</span>
<span class="comment">// Office:             (string) combo cell displayer</span>
<span class="comment">// Security Clearance: (string) subclassed check box displayer</span>
<span class="comment">// Billable Rate:      (float) default cell displayer, custom formatter</span>
<span class="comment">//</span>
<span class="comment"></span>
<span class="comment">/*</span>
<span class="comment"> * SecCheckBox - A subclass of QicsCheckCellDisplay that displays a</span>
<span class="comment"> * "check" if the underlying data value is 'y'.  This class also</span>
<span class="comment"> * stores (in the data model) any changes to the checkbox as 'y'</span>
<span class="comment"> * if the box is checked, or 'n' otherwise.</span>
<span class="comment"> */</span>

<span class="keyword">class </span>SecCheckBox : <span class="keyword">public</span> <a class="code" href="classQicsCheckCellDisplay.html">QicsCheckCellDisplay</a>
{
    <span class="keyword">private</span>:
        <span class="comment">// Reimplemented from QicsCheckCellDisplay</span>
        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classQicsCheckCellDisplay.html#QicsCheckCellDisplayb3">checkState</a>(<a class="code" href="classQicsGridInfo.html">QicsGridInfo</a>* , <span class="keywordtype">int</span> , <span class="keywordtype">int</span> , <span class="keywordtype">int</span> ,<span class="keywordtype">int</span> , 
                                <span class="keyword">const</span> <a class="code" href="classQicsDataItem.html">QicsDataItem</a>* 
                               );

        <span class="comment">// Reimplemented from QicsCheckCellDisplay</span>
        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classQicsCheckCellDisplay.html#QicsCheckCellDisplayb6">valueChanged</a>(<a class="code" href="classQicsGridInfo.html">QicsGridInfo</a> *info, <span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col, 
                                  <span class="keywordtype">int</span> model_row, <span class="keywordtype">int</span> model_col, <span class="keywordtype">bool</span> set
                                 );
};


<span class="comment">/*</span>
<span class="comment"> * SSNValidator - A subclass of QValidator that restricts input to</span>
<span class="comment"> * numeral and '-' chars.   Once the user presses enter, fixup() will</span>
<span class="comment"> * strip the dashed from the input in order to keep the data consistant.</span>
<span class="comment"> * A formatter will be used to display the value in the table in the</span>
<span class="comment"> * common manner (XXX-XX-XXXX).</span>
<span class="comment"> */</span>

<span class="keyword">class </span>SSNValidator : <span class="keyword">public</span> QValidator
{
    <span class="keyword">public</span>:
      SSNValidator() : QValidator( 0 ) {};
      <span class="keyword">virtual</span> State validate( QString&amp;, <span class="keywordtype">int</span>&amp; ) <span class="keyword">const</span>;
      <span class="keyword">virtual</span> <span class="keywordtype">void</span> fixup( QString&amp; ) <span class="keyword">const</span>;
};


<span class="comment">/*</span>
<span class="comment"> * Consultant - The primary class.  Subclassed from QMainWindow, this</span>
<span class="comment"> * class contains both the table and the data model, as well as all</span>
<span class="comment"> * the methods to implement the UI behavior.</span>
<span class="comment"> */</span>

<span class="keyword">class </span>Consultant : <span class="keyword">public</span> QMainWindow
{
    Q_OBJECT

<span class="keyword">public</span>:
    Consultant(QWidget*, <span class="keyword">const</span> <span class="keywordtype">char</span>*);

<span class="keyword">protected</span>:
    <a class="code" href="classQicsDataModel.html">QicsDataModel</a> *dataModel;
    QicsTable *table;
        
<span class="keyword">private</span>:
    <span class="keywordtype">int</span> _autoSortCol;
    <a class="code" href="classQics.html#Qicsw58">Qics::QicsSortOrder</a> _autoSortOrder;
        
<span class="keyword">protected</span> slots: 
    <span class="keywordtype">void</span> addRow();
    <span class="keywordtype">void</span> deleteRow();
    <span class="keywordtype">void</span> sortAscending();
    <span class="keywordtype">void</span> sortDescending();
    <span class="keywordtype">void</span> fileOpen();
    <span class="keywordtype">void</span> fileSave();
    <span class="keywordtype">void</span> autoSort(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keyword">const</span> QPoint&amp;);
};

<span class="preprocessor">#endif </span><span class="comment">/* _CONSULTANT_H */</span>
</pre></div> <!-- footer -->
<P>
<center>
<font size="1">
All trademarks and copyrights on this page are properties of
their respective owners.<br> The rest is copyright ©1999-2003 Integrated
Computer Solutions, Inc.
</font>
</center>
<!-- end footer -->
